<html>
  <head>
    <script src="https://cdn.firebase.com/js/client/2.2.4/firebase.js"></script>
    <script src='https://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js'></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.2.0/codemirror.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.2.0/codemirror.css"/>

    <link rel="stylesheet" type="text/css" href="css/firepad.css"/>
    <link rel="stylesheet" type="text/css" href="css/index.css">
    
    <script src="https://cdn.firebase.com/libs/firepad/1.2.0/firepad.min.js"></script>
  
  </head>

  <body>
    <script>
        function myclick() {
          var firepadRef = getExampleRef();
          // TODO: Replace above line with:
          // var firepadRef = new Firebase('<YOUR FIREBASE URL>');
          //// Create CodeMirror (with lineWrapping on).
          var codeMirror = CodeMirror(document.getElementById('firepad-container'), { lineWrapping: true });
          //// Create Firepad (with rich text toolbar and shortcuts enabled).
          var firepad = Firepad.fromCodeMirror(firepadRef, codeMirror,
          { richTextToolbar: true, richTextShortcuts: true });
          //// Initialize contents.
          firepad.on('ready', function() {
              if (firepad.isHistoryEmpty()) {
              firepad.setHtml('<span style="font-size: 24px;">Rich-text editing with <span style="color: red">Firepad!</span></span><br/><br/>Collaborative-editing made easy.\n');
              }
          });
        }

        function getExampleRef() {
            var ref = new Firebase('https://firepad.firebaseio-demo.com');
            var hash = window.location.hash.replace(/#/g, '');
            if (hash) {
                ref = ref.child(hash);
            } else {
                ref = ref.push(); // generate unique location.
                window.location = window.location + '#' + ref.key(); // add it as a hash to the URL.
            }
            return ref;
        }
    </script>

    <!-- CHAT MARKUP -->
    <button type="button" value="Submit" onclick="myclick()" >Text Editor</button>
    <div id="firepad-container"></div>

    <div class="example-chat l-demo-container">
      <header class='chat-header'>Chat</header>

      <div class='chat-content'>
        <ul id='example-messages' class="example-chat-messages"></ul>

        <footer>
          <input type='text' id='messageInput'  placeholder='Type a message...'>
        </footer>
      </div>
    </div>

    <script src='js/index.js'></script>
  </body>

</html>
